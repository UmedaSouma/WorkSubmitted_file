#include "enemyland3D.h"
#include "block3D.h"

//========================================================================================================================
// コンストラクタ
//========================================================================================================================
CEnemyland3D::CEnemyland3D() :
	m_fMove(0.0f)
	, m_bZeroGravity(false)
{
}

//========================================================================================================================
// デストラクタ
//========================================================================================================================
CEnemyland3D::~CEnemyland3D()
{
}

//========================================================================================================================
// 初期設定
//========================================================================================================================
HRESULT CEnemyland3D::Init()
{
	CEnemy3D::Init();

	SetSize({ 10.0f,20.0f,10.0f });

	return S_OK;
}

//========================================================================================================================
// 終了処理
//========================================================================================================================
void CEnemyland3D::Uninit()
{
	CEnemy3D::Uninit();
}

//========================================================================================================================
// 更新処理
//========================================================================================================================
void CEnemyland3D::Update()
{
	if (!m_bZeroGravity)
	{
		Gravity();
	}

	CEnemy3D::Update();
}

//========================================================================================================================
// 描画処理
//========================================================================================================================
void CEnemyland3D::Draw()
{
	CEnemy3D::Draw();
}

//========================================================================================================================
// 生成処理
//========================================================================================================================
CEnemyland3D* CEnemyland3D::Create(D3DXVECTOR3 pos)
{
	CEnemyland3D* enemy = new CEnemyland3D;

	enemy->SetPos(pos);
	enemy->SetType(TYPE::ENEMY);

	enemy->Init();

	return enemy;
}

//===========================================================================================================
// 重力
//===========================================================================================================
void CEnemyland3D::Gravity()
{
	if (GetState() != CEnemy3D::STATE_CREATE)
	{
		D3DXVECTOR3 move = GetMove();

		move.y -= m_fGravity;

		SetMove({ 
			move.x,
			move.y,
			0.0f 
			});
	}
}


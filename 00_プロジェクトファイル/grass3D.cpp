//===========================================================================================================================================================
// 
// 草などの処理
// Author : souma umeda
// 
//===========================================================================================================================================================
#include "grass3D.h"
#include "manager.h"

//========================================================================================================================
// コンストラクタ
//========================================================================================================================
CGrass::CGrass()
{
}

//========================================================================================================================
// デストラクタ
//========================================================================================================================
CGrass::~CGrass()
{
}

//========================================================================================================================
// 初期設定
//========================================================================================================================
HRESULT CGrass::Init()
{
	CBlock3D::Init();

	SetModelAddress("data\\model\\block_grass_000.x");		// アドレスを保存しておく
	CModeldata* pModeldata = CManager::GetModeldata();		// modeldata のポインタを持ってくる
	int nIdx = pModeldata->Regist(GetModelAddress());		// モデルデータの登録
	BindModel(pModeldata->GetAddress(nIdx));				// モデル情報をセットする

	SetModelType(CModel::MODEL_TYPE::GRASS);

	return S_OK;
}

//========================================================================================================================
// 終了処理
//========================================================================================================================
void CGrass::Uninit()
{
	CBlock3D::Uninit();
}

//========================================================================================================================
// 更新処理
//========================================================================================================================
void CGrass::Update()
{
	CBlock3D::Update();
}

//========================================================================================================================
// 描画処理
//========================================================================================================================
void CGrass::Draw()
{
	CBlock3D::Draw();
}

//========================================================================================================================
// 生成処理
//========================================================================================================================
CGrass* CGrass::Create(D3DXVECTOR3 pos)
{
	CGrass* pGrass = new CGrass;

	pGrass->SetPos(pos);
	pGrass->SetSize({ MAX_SIZE ,MAX_SIZE ,MAX_SIZE });
	pGrass->Init();

	return pGrass;
}

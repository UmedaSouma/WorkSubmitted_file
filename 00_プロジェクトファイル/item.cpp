//===========================================================================================================================================================
// 
// アイテム情報の管理
// Author : souma umeda
// 
//===========================================================================================================================================================
#include "item.h"

LPDIRECT3DTEXTURE9 CItem::m_pTexture = nullptr;

//======================================================================
// コンストラクタ
//======================================================================
CItem::CItem()
{
}

//======================================================================
// デストラクタ
//======================================================================
CItem::~CItem()
{
}

//======================================================================
// 初期設定
//======================================================================
HRESULT CItem::Init()
{
	if (FAILED(CObject2D::Init())) { return E_FAIL; }

	return S_OK;
}

//======================================================================
// 終了処理
//======================================================================
void CItem::Uninit()
{
	CObject2D::Uninit();
}

//======================================================================
// 更新処理
//======================================================================
void CItem::Update()
{

	/*for (int nCntObj = 0; nCntObj < MAX_OBJECT; nCntObj++)
	{
		CObject*pCbj
	}*/

	CObject2D::Update();
}

//======================================================================
// 描画処理
//======================================================================
void CItem::Draw()
{
	CObject2D::Draw();
}

//======================================================================
// 生成処理
//======================================================================
CItem* CItem::Create(D3DXVECTOR3 pos)
{
	CItem* pItem = nullptr;

	pItem->SetPos(pos);
	pItem->Init();

	return pItem;
}

//======================================================================
// テクスチャの読み込み
//======================================================================
HRESULT CItem::TextureLoad()
{
	if (m_pTexture == nullptr)
	{
		CRenderer* Renderer = CManager::GetRenderer();
		LPDIRECT3DDEVICE9 pDevice = Renderer->GetDevice();

		D3DXCreateTextureFromFile(pDevice, "data\\TEXTURE\\genshin.jpg", &m_pTexture);
	}
	return S_OK;
}

//======================================================================
// テクスチャの破棄
//======================================================================
void CItem::TextureUnLoad()
{
	if (m_pTexture != nullptr)
	{
		m_pTexture->Release();
		m_pTexture = nullptr;
	}
}


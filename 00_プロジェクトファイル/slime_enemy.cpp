#include "slime_enemy.h"
#include "manager.h"

//========================================================================================================================
// コンストラクタ
//========================================================================================================================
CSlimeEnemy::CSlimeEnemy()
{
}

//========================================================================================================================
// デストラクタ
//========================================================================================================================
CSlimeEnemy::~CSlimeEnemy()
{
}

//========================================================================================================================
// 初期設定
//========================================================================================================================
HRESULT CSlimeEnemy::Init()
{
	SetMaxLife(50);

	CSlime::Init();

	// モデルデータをセット
	SetModelAddress("data\\model\\enemy_slime_000.x");		// アドレスを保存しておく
	CModeldata* pModeldata = CManager::GetModeldata();		// modeldata のポインタを持ってくる
	int nIdx = pModeldata->Regist(GetModelAddress());		// モデルデータの登録
	BindModel(pModeldata->GetAddress(nIdx));				// モデル情報をセットする
	SetModelIdx(nIdx);

	return S_OK;
}

//========================================================================================================================
// 終了処理
//========================================================================================================================
void CSlimeEnemy::Uninit()
{
	CSlime::Uninit();
}

//========================================================================================================================
// 更新処理
//========================================================================================================================
void CSlimeEnemy::Update()
{
	CSlime::Update();
}

//========================================================================================================================
// 描画処理
//========================================================================================================================
void CSlimeEnemy::Draw()
{
	CSlime::Draw();
}

//========================================================================================================================
// 生成処理
//========================================================================================================================
CSlimeEnemy* CSlimeEnemy::Create(D3DXVECTOR3 pos)
{
	CSlimeEnemy* pSlime = new CSlimeEnemy;

	pSlime->SetPos(pos);
	pSlime->SetType(ENEMY);

	pSlime->Init();

	return pSlime;
}
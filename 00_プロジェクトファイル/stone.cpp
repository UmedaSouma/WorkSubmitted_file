//===========================================================================================================================================================
// 
// 石ブロック [stone.cpp]
// Author : souma umeda
// 
//===========================================================================================================================================================
#include "stone.h"


//========================================================================================================================
// コンストラクタ
//========================================================================================================================
CStone::CStone()
{
}

//========================================================================================================================
// デストラクタ
//========================================================================================================================
CStone::~CStone()
{
}

//========================================================================================================================
// 初期設定
//========================================================================================================================
HRESULT CStone::Init()
{
	CBlock3D::Init();

	SetModelAddress("data\\model\\block_stone_000.x");	// アドレスを保存しておく
	CModeldata* pModeldata = CManager::GetModeldata();	// modeldata のポインタを持ってくる
	int nIdx = pModeldata->Regist(GetModelAddress()); 	// モデルデータの登録
	BindModel(pModeldata->GetAddress(nIdx));		  	// モデル情報をセットする

	SetModelType(CModel::MODEL_TYPE::STONE);

	return S_OK;
}

//========================================================================================================================
// 終了処理
//========================================================================================================================
void CStone::Uninit()
{
	CBlock3D::Uninit();
}

//========================================================================================================================
// 更新処理
//========================================================================================================================
void CStone::Update()
{
	CBlock3D::Update();
}

//========================================================================================================================
// 描画処理
//========================================================================================================================
void CStone::Draw()
{
	CBlock3D::Draw();
}

//========================================================================================================================
// 生成処理
//========================================================================================================================
CStone* CStone::Create(D3DXVECTOR3 pos)
{
	CStone* pStone = new CStone;

	pStone->SetPos(pos);
	pStone->SetSize({ 23.0f ,23.0f ,23.0f });
	pStone->Init();

	return pStone;
}
